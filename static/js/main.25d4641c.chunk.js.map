{"version":3,"sources":["Components/Phonebook/PhoneFilter/PhoneFilter.jsx","Components/Phonebook/PhoneForm/PhoneForm.jsx","Components/Phonebook/PhoneListItem/PhoneListItem.jsx","Components/Phonebook/PhoneList/PhoneList.jsx","redux/phonebook/phonebookActions.js","Components/Phonebook/Phonebook.js","Components/App.js","redux/phonebook/phonebookReducer.js","redux/store.js","index.js"],"names":["PhoneFilter","filter","setFilter","type","value","onChange","placeholder","className","PhoneForm","state","name","number","onHandlSubmit","e","preventDefault","props","addContact","setState","onHandlChange","target","onSubmit","this","pattern","title","required","Component","PhoneListItem","contact","deleteContact","id","onClick","PhoneList","contacts","map","getAllContacts","createAction","Phonebook","a","someName","cont","toLowerCase","includes","someNum","alert","axios","post","data","delete","getFilteredContacts","get","Object","keys","key","console","log","mapDispatchToProps","connect","App","contactsReducer","createReducer","_","payload","filterReducer","rootReducer","combineReducers","store","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.25d4641c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nconst PhoneFilter = ({ filter, setFilter }) => {\r\n  return (\r\n    <label>\r\n      Filter:\r\n      <input\r\n        type=\"text\"\r\n        value={filter}\r\n        onChange={setFilter}\r\n        placeholder=\"John Wick or +380000000000\"\r\n        className=\"pt-3 pb-2 block w-full px-0 mt-0 bg-transparent border-0 border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-black border-gray-200 hover:outline-none hover:ring-0 hover:border-black border-gray-200\"\r\n      ></input>\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default PhoneFilter;\r\n\r\nPhoneFilter.propTypes = {\r\n  filter: PropTypes.string.isRequired,\r\n  setFilter: PropTypes.func,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass PhoneForm extends Component {\r\n  state = {\r\n    name: \"\",\r\n    number: \"\",\r\n  };\r\n  onHandlSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.addContact(this.state);\r\n    this.setState({ name: \"\", number: \"\" });\r\n  };\r\n  onHandlChange = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.onHandlSubmit}>\r\n        <label>\r\n          Name:\r\n          <input\r\n            className=\"pt-3 pb-2 block w-full px-0 mt-0 bg-transparent border-0 border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-black border-gray-200 hover:outline-none hover:ring-0 hover:border-black border-gray-200\"\r\n            type=\"text\"\r\n            name=\"name\"\r\n            onChange={this.onHandlChange}\r\n            value={this.state.name}\r\n            placeholder=\"John Wick\"\r\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n            title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n            required\r\n          />\r\n        </label>\r\n        <label>\r\n          Number:\r\n          <input\r\n            className=\"pt-3 pb-2 block w-full px-0 mt-0 bg-transparent border-0 border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-black border-gray-200 hover:outline-none hover:ring-0 hover:border-black border-gray-200\"\r\n            type=\"tel\"\r\n            name=\"number\"\r\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n            title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n            placeholder=\"+380000000000\"\r\n            required\r\n            onChange={this.onHandlChange}\r\n            value={this.state.number}\r\n          />\r\n        </label>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"w-full px-6 py-3 mt-3 text-lg text-white transition-all duration-150 ease-linear rounded-lg shadow outline-none bg-green-500 hover:bg-green-800 hover:shadow-lg focus:outline-none\"\r\n        >\r\n          Add contact\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PhoneForm;\r\n\r\nPhoneForm.propTypes = {\r\n  addContact: PropTypes.func,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nconst PhoneListItem = ({ contact, deleteContact }) => {\r\n  return (\r\n    <li className=\"mt-4\">\r\n      <span className=\"  mb-1 mt-1\">\r\n        {contact.name + \": \" + contact.number}\r\n      </span>\r\n      <button\r\n        id={contact.id}\r\n        type=\"button\"\r\n        onClick={deleteContact}\r\n        className=\"absolute right-8 px-6 mb-1 mt-1  text-white transition-all duration-150 ease-linear rounded-lg shadow outline-none bg-green-500 hover:bg-red-600 hover:shadow-lg focus:outline-none\"\r\n      >\r\n        DELETE\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\nexport default PhoneListItem;\r\nPhoneListItem.propTypes = {\r\n  deleteContact: PropTypes.func,\r\n  contact: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    number: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n};\r\n","// import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n// const PhoneList = ({ contacts, deleteContact }) => {\r\n//   return (\r\n//     <ul>\r\n//       {contacts.map((contact) => (\r\n//         <li className=\"mt-4\" key={contact.id}>\r\n//           <span className=\"  mb-1 mt-1\">\r\n//             {contact.name + \": \" + contact.number}\r\n//           </span>\r\n\r\n//           <button\r\n//             id={contact.id}\r\n//             type=\"button\"\r\n//             onClick={deleteContact}\r\n//             className=\"absolute right-8 px-6 mb-1 mt-1  text-white transition-all duration-150 ease-linear rounded-lg shadow outline-none bg-green-500 hover:bg-red-600 hover:shadow-lg focus:outline-none\"\r\n//           >\r\n//             DELETE\r\n//           </button>\r\n//         </li>\r\n//       ))}\r\n//     </ul>\r\n//   );\r\n// };\r\n\r\n// export default PhoneList;\r\n\r\n// PhoneList.propTypes = {\r\n//   deleteContact: PropTypes.func,\r\n//   contacts: PropTypes.arrayOf(\r\n//     PropTypes.shape({\r\n//       id: PropTypes.string.isRequired,\r\n//       name: PropTypes.string.isRequired,\r\n//       number: PropTypes.string.isRequired,\r\n//     })\r\n//   ),\r\n// };\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport PhoneListItem from \"./../PhoneListItem/PhoneListItem\";\r\n\r\nconst PhoneList = ({ contacts, deleteContact }) => {\r\n  return (\r\n    <ul>\r\n      {contacts.map((contact) => (\r\n        <PhoneListItem\r\n          contact={contact}\r\n          key={contact.id}\r\n          deleteContact={deleteContact}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nPhoneList.propTypes = {\r\n  deleteContact: PropTypes.func,\r\n  contacts: PropTypes.arrayOf(PropTypes.object),\r\n};\r\nexport default PhoneList;\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const getAllContacts = createAction(\"contacts/getAllContacts\");\r\nexport const addContact = createAction(\"contacts/addContact\");\r\nexport const deleteContact = createAction(\"contacts/deleteContact\");\r\nexport const setFilter = createAction(\"filter/setFilter\");\r\n","import React, { Component } from \"react\";\r\nimport PhoneFilter from \"./PhoneFilter/PhoneFilter\";\r\nimport PhoneForm from \"./PhoneForm/PhoneForm\";\r\nimport PhoneList from \"./PhoneList/PhoneList\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  addContact,\r\n  deleteContact,\r\n  getAllContacts,\r\n  setFilter,\r\n} from \"../../redux/phonebook/phonebookActions\";\r\n\r\nclass Phonebook extends Component {\r\n  // state = {\r\n  // contacts: [],\r\n  // filter: \"\",\r\n  // };\r\n  async componentDidMount() {\r\n    try {\r\n      const { data } = await axios.get(\r\n        `https://phonebook-20-default-rtdb.firebaseio.com/contacts.json`\r\n      );\r\n      if (data) {\r\n        const contacts = Object.keys(data).map((key) => ({\r\n          id: key,\r\n          ...data[key],\r\n        }));\r\n        this.props.getAllContacts(contacts);\r\n        // this.setState({ contacts });\r\n      }\r\n\r\n      console.log(data);\r\n    } catch (error) {}\r\n  }\r\n\r\n  addContact = async (contact) => {\r\n    const someName = this.props.contacts\r\n      // const someName = this.state.contacts\r\n      .map((cont) => cont.name.toLowerCase())\r\n      .includes(contact.name.toLowerCase());\r\n    const someNum = this.props.contacts\r\n      // const someNum = this.state.contacts\r\n      .map((cont) => cont.number)\r\n      .includes(contact.number);\r\n    if (someName) {\r\n      alert(`${contact.name} is already in contacts`);\r\n      return;\r\n    } else if (someNum) {\r\n      alert(`${contact.number} is already in contacts`);\r\n      return;\r\n    }\r\n    // try {\r\n    const { data } = await axios.post(\r\n      `https://phonebook-20-default-rtdb.firebaseio.com/contacts.json`,\r\n      contact\r\n    );\r\n    this.props.addContact({ ...contact, id: data.name });\r\n    // this.setState((prevState) => {\r\n    //   return {\r\n    //     contacts: [...prevState.contacts, { ...contact, id: data.name }],\r\n    //   };\r\n    // });\r\n    // console.log(data);\r\n    // } catch (error) {}\r\n  };\r\n  deleteContact = async (e) => {\r\n    // try {\r\n    const { id } = e.target;\r\n    await axios.delete(\r\n      `https://phonebook-20-default-rtdb.firebaseio.com/contacts/${id}.json`\r\n    );\r\n    this.props.deleteContact(id);\r\n    // this.setState({\r\n    //   contacts: this.state.contacts.filter((contact) => contact.id !== id),\r\n    // });\r\n    // } catch (error) {}\r\n  };\r\n  setFilter = (e) => {\r\n    const { value } = e.target;\r\n    this.props.setFilter(value);\r\n    // this.setState({ filter: value });\r\n  };\r\n  getFilteredContacts = () => {\r\n    return this.props.contacts?.filter(\r\n      (contact) =>\r\n        contact.name.toLowerCase().includes(this.props.filter.toLowerCase()) ||\r\n        contact.number.includes(this.props.filter)\r\n    );\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"relative mx-auto max-w-md px-8 py-12 bg-white border-0 shadow-lg sm:rounded-3xl \">\r\n        <PhoneForm addContact={this.addContact} />\r\n        <PhoneFilter filter={this.props.filter} setFilter={this.setFilter} />\r\n        <PhoneList\r\n          contacts={this.getFilteredContacts()}\r\n          deleteContact={this.deleteContact}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    contacts: state.contacts,\r\n    filter: state.filter,\r\n  };\r\n};\r\nconst mapDispatchToProps = {\r\n  addContact,\r\n  deleteContact,\r\n  getAllContacts,\r\n  setFilter,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Phonebook);\r\n","import Phonebook from \"./Phonebook/Phonebook\";\r\n\r\n const App=()=>(\r\n    <>\r\n    <Phonebook/>\r\n    </>\r\n)\r\nexport default App;","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport {\r\n  addContact,\r\n  deleteContact,\r\n  getAllContacts,\r\n  setFilter,\r\n} from \"./phonebookActions\";\r\n\r\nconst contactsReducer = createReducer([], {\r\n  [getAllContacts]: (_, { payload }) => payload,\r\n  [addContact]: (state, { payload }) => [...state, payload],\r\n  [deleteContact]: (state, { payload }) => [\r\n    ...state.filter((contact) => contact.id !== payload),\r\n  ],\r\n});\r\nconst filterReducer = createReducer(\"\", {\r\n  [setFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nexport { contactsReducer, filterReducer };\r\n","import { combineReducers } from \"redux\";\r\nimport { configureStore } from \"@reduxjs/toolkit\";\r\nimport { contactsReducer, filterReducer } from \"./phonebook/phonebookReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  contacts: contactsReducer,\r\n  filter: filterReducer,\r\n});\r\nconst store = configureStore({ reducer: rootReducer });\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./Components/App\";\nimport \"./index.css\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}